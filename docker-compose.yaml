version: '3'

services:
    app:
        build:
            context: .
            dockerfile: ./Dockerfile
        environment:
            - NODE_ENV=production
            - TOPIC=GerarDocumentosDaBolsaTask
            - ENG_REST_URL=${CAMUNDA_URL}
            - ENG_REST_USERNAME=${CAMUNDA_USERNAME}
            - ENG_REST_PASSWORD=${CAMUNDA_PASSWORD}
            - MAX_TASK_DURATION=30000
            - CAMUNDA_DOMAINS_HOST=${CAMUNDA_DOMAINS_HOST}
            - CAMUNDA_DOMAINS_PORT=${CAMUNDA_DOMAINS_PORT}
            - CAMUNDA_DOMAINS_USER=${CAMUNDA_DOMAINS_USER}
            - CAMUNDA_DOMAINS_DB=${CAMUNDA_DOMAINS_DB}
            - CAMUNDA_DOMAINS_PASS=${CAMUNDA_DOMAINS_PASS}
        volumes:
            - ./src:/home/python/app
            - /mnt/docs/Sites/cett-adm/documentLibrary/BOLSAS/SISTEMA/CADASTRO:/home/appuser/app/outputs:rw
            - /mnt/docs/Sites/cett-adm/documentLibrary/BOLSAS/SISTEMA/TEMPLATES:/home/appuser/app/templates:ro
